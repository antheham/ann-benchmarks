# 用ANN-benchmark测试pgvector_ivfflat

## 环境配置
原版ann-benchmark是依靠在宿主机上为每个查询算法建立一个docker容器来测试的，但是目前我们的服务器本身就是一个docker容器。为了避免docker套docker的麻烦，且我们只需要测试pgvector_ivfflat，在测试不同版本的pgvector_ivfflat时，我们不再建立新容器，而是编译不同版本的vector.so扩展，并将其替换到postgresql中，然后运行ann-benchmark进行测试

具体配置步骤如下：

1. 拉取仓库
运行 `git clone https://github.com/mindtravel/ann-benchmarks.git`

2. 创建并激活conda环境
运行 `conda create -n ann-benchmark python==3.10.6`
运行 `conda activate ann-benchmark`

3. 安装python依赖
运行 `pip install -r requirements.txt`

4. 参考`ann_benchmarks/algorithms/pgvector_ivfflat`中的方法安装pgvector_ivfflat算法环境